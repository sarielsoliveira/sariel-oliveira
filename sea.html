<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sea - Sariel Oliveira</title>
    <link href="https://fonts.googleapis.com/css2?family=Koulen&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Martel:wght@300;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="sea.css">
</head>
<body>
    <!-- NAVBAR -->
    <header class="navbar">
        <div class="navbar-inner">
            <a href="index.html">
                <img src="assets/logo-sariel.png" alt="Logo Sariel Oliveira" class="logo"/>
            </a>
            
            <nav class="nav-links">
                <a href="contact.html">CONTACT</a>
                <a href="work.html">WORK</a>
                <a href="about.html">ABOUT</a>
            </nav>
        </div>
    </header>
    
    <!-- CONTEÚDO DA PÁGINA SEA -->
    <div class="sea-content">
        <!-- Título e Descrição -->
        <div class="sea-header">
            <div class="sea-title-container">
                <h1 class="sea-title">"Matter in Motion: The Sea as Abstraction"</h1>
            </div>
            <div class="sea-description">
                <p>This photographic series emerges from an intimate encounter with the sea—not as a distant horizon, but as a body in constant transformation. The images dive into liquid texture, into the bursting foam, into the fleeting curve of a wave just before it breaks. Each photograph is an approach to the moment when water ceases to be landscape and becomes gesture, form, abstract matter.</p>
            </div>
        </div>

        <!-- Galeria de Imagens -->
        <div class="sea-gallery">
            <!-- Imagem Principal 1 -->
            <div class="sea-image-full">
                <img src="Sea-image/MMar (1).jpg" alt="" class="sea-img" data-lightbox="sea-gallery">
            </div>

            <!-- Duas imagens lado a lado -->
            <div class="sea-image-row">
                <img src="Sea-image/MMar (4).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
                <img src="Sea-image/MMar (5).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga -->
            <div class="sea-image-wide">
                <img src="Sea-image/Group 110.png" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Vertical -->
            <div class="sea-image-vertical">
                <img src="Sea-image/MMar (8).jpg" alt="" class="sea-img-vertical" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga -->
            <div class="sea-image-wide">
                <img src="Sea-image/Group 111.png" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Principal 2 -->
            <div class="sea-image-full">
                <img src="Sea-image/MMar (11).jpg" alt="" class="sea-img" data-lightbox="sea-gallery">
            </div>

            <!-- Descrição 2 -->
            <div class="sea-description-bottom">
                <p>The sea here is not to be contemplated—it is to be felt. It fragments into light, decomposes into rhythm, reveals itself as a force that shapes and overflows. The camera becomes a witness to the invisible—to what happens too fast, too close, too deep.</p>
            </div>

            <!-- Duas imagens lado a lado 2 -->
            <div class="sea-image-row">
                <img src="Sea-image/MMar (16).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
                <img src="Sea-image/MMar (17).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Principal 3 -->
            <div class="sea-image-full">
                <img src="Sea-image/MMar (18).jpg" alt="" class="sea-img" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Principal 4 -->
            <div class="sea-image-full">
                <img src="Sea-image/MMar (19).jpg" alt="" class="sea-img" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga 2 -->
            <div class="sea-image-wide">
                <img src="Sea-image/MMar (12).jpg" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Descrição 3 -->
            <div class="sea-description-bottom">
                <p>This series invites a different gaze: not toward the sea as destination, but as presence. As texture that speaks, as energy that pulses, as abstraction that reminds us nature can also be radically artistic.</p>
            </div>

            <!-- Duas imagens lado a lado 3 -->
            <div class="sea-image-row">
                <img src="Sea-image/MMar (2).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
                <img src="Sea-image/MMar (3).jpg" alt="" class="sea-img-half" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga 3 -->
            <div class="sea-image-wide">
                <img src="Sea-image/Group 112.png" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga 4 -->
            <div class="sea-image-wide">
                <img src="Sea-image/MMar (20).jpg" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Larga 5 -->
            <div class="sea-image-wide">
                <img src="Sea-image/MMar (21).jpg" alt="" class="sea-img-wide" data-lightbox="sea-gallery">
            </div>

            <!-- Imagem Vertical 2 -->
            <div class="sea-image-vertical">
                <img src="Sea-image/MMar (22).jpg" alt="" class="sea-img-vertical" data-lightbox="sea-gallery">
            </div>
        </div>
    </div>

    <!-- LIGHTBOX (nova estrutura) -->
    <div id="lightbox" class="lightbox">
        <span class="lightbox-close">&times;</span>
        <span class="lightbox-prev">&#10094;</span>
        <span class="lightbox-next">&#10095;</span>
        <div class="lightbox-content">
            <img id="lightbox-image" src="" alt="Gallery Image" draggable="false">
        </div>
        <div class="lightbox-counter">
            <span id="current-index">1</span> / <span id="total-images">18</span>
        </div>
        <div id="lightbox-caption" class="lightbox-caption"></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Seleciona todas as imagens da galeria Sea
            const images = document.querySelectorAll('[data-lightbox="sea-gallery"]');
            const lightbox = document.getElementById('lightbox');
            const lbImage = document.getElementById('lightbox-image');
            const currIdxTxt = document.getElementById('current-index');
            const totalTxt = document.getElementById('total-images');
            const lightboxCaption = document.getElementById('lightbox-caption');
            const btnNext = document.querySelector('.lightbox-next');
            const btnPrev = document.querySelector('.lightbox-prev');
            const btnClose = document.querySelector('.lightbox-close');
            
            let idx = 0;
            let currentScale = 1;
            let currentTranslateX = 0;
            let currentTranslateY = 0;
            let isDragging = false;
            let dragStartX = 0, dragStartY = 0;
            let initialPinchDistance = 0;
            let initialScale = 1;
            let swipeStartX = 0;
            let wasZooming = false;

            // Atualiza o total de imagens
            totalTxt.textContent = images.length;

            function updateImage() {
                currentScale = 1;
                currentTranslateX = 0;
                currentTranslateY = 0;
                updateTransform();
                lbImage.src = images[idx].src;
                currIdxTxt.textContent = idx + 1;
                // Atualiza a legenda com o alt da imagem
                lightboxCaption.textContent = images[idx].alt || '';
                
                // Adiciona efeito fade-in
                lbImage.style.opacity = '0';
                setTimeout(() => {
                    lbImage.style.opacity = '1';
                }, 50);
            }

            function updateTransform() {
                if (currentScale <= 1) {
                    currentScale = 1;
                    currentTranslateX = 0;
                    currentTranslateY = 0;
                    // Mostra as setas quando não está com zoom (apenas desktop)
                    if (window.innerWidth > 768) {
                        btnNext.style.opacity = "1";
                        btnPrev.style.opacity = "1";
                        btnNext.style.visibility = "visible";
                        btnPrev.style.visibility = "visible";
                    }
                } else {
                    // Esconde as setas quando está com zoom
                    btnNext.style.opacity = "0";
                    btnPrev.style.opacity = "0";
                    btnNext.style.visibility = "hidden";
                    btnPrev.style.visibility = "hidden";
                }
                lbImage.style.transform = `translate(${currentTranslateX}px, ${currentTranslateY}px) scale(${currentScale})`;
            }

            const open = (i) => {
                idx = i;
                updateImage();
                lightbox.style.display = 'flex';
                setTimeout(() => lightbox.classList.add('active'), 10);
                document.body.style.overflow = 'hidden';
            };

            const closeVisual = () => {
                // Fecha o lightbox
                lightbox.classList.remove('active');
                setTimeout(() => {
                    lightbox.style.display = 'none';
                    // Faz scroll para a imagem atual
                    if (images[idx]) {
                        images[idx].scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }, 300);
                document.body.style.overflow = 'auto';
            };

            const next = () => {
                idx = (idx + 1) % images.length;
                updateImage();
            };

            const prev = () => {
                idx = (idx - 1 + images.length) % images.length;
                updateImage();
            };

            // Abre o lightbox ao clicar em qualquer imagem
            images.forEach((img, i) => img.addEventListener('click', () => open(i)));

            // Fecha o lightbox
            btnClose.addEventListener('click', closeVisual);

            // Navegação
            btnNext.addEventListener('click', (e) => {
                e.stopPropagation();
                next();
            });

            btnPrev.addEventListener('click', (e) => {
                e.stopPropagation();
                prev();
            });

            // Arrastar no Mouse (quando com zoom)
            lbImage.addEventListener('mousedown', (e) => {
                if (currentScale > 1) {
                    isDragging = true;
                    dragStartX = e.clientX - currentTranslateX;
                    dragStartY = e.clientY - currentTranslateY;
                    e.preventDefault();
                }
            });

            window.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                currentTranslateX = e.clientX - dragStartX;
                currentTranslateY = e.clientY - dragStartY;
                updateTransform();
            });

            window.addEventListener('mouseup', () => {
                isDragging = false;
            });

            // Zoom com roda do mouse
            lightbox.addEventListener('wheel', (e) => {
                e.preventDefault();
                const delta = e.deltaY > 0 ? -0.2 : 0.2;
                currentScale = Math.min(Math.max(1, currentScale + delta), 4);
                updateTransform();
            }, { passive: false });

            // Touch Mobile
            lightbox.addEventListener('touchstart', (e) => {
                if (e.touches.length === 2) {
                    wasZooming = true;
                    initialPinchDistance = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    initialScale = currentScale;
                } else if (e.touches.length === 1) {
                    swipeStartX = e.touches[0].clientX;
                    if (currentScale > 1) {
                        isDragging = true;
                        dragStartX = e.touches[0].clientX - currentTranslateX;
                        dragStartY = e.touches[0].clientY - currentTranslateY;
                    }
                }
            }, { passive: false });

            lightbox.addEventListener('touchmove', (e) => {
                if (e.touches.length === 2) {
                    e.preventDefault();
                    const currentDistance = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    currentScale = Math.min(
                        Math.max(1, initialScale * (currentDistance / initialPinchDistance)),
                        4
                    );
                    updateTransform();
                } else if (e.touches.length === 1 && isDragging && currentScale > 1) {
                    e.preventDefault();
                    currentTranslateX = e.touches[0].clientX - dragStartX;
                    currentTranslateY = e.touches[0].clientY - dragStartY;
                    updateTransform();
                }
            }, { passive: false });

            lightbox.addEventListener('touchend', (e) => {
                isDragging = false;

                // Se for um toque simples (sem zoom)
                if (e.changedTouches.length === 1 && currentScale === 1 && !wasZooming) {
                    const swipeEndX = e.changedTouches[0].clientX;
                    const diff = swipeStartX - swipeEndX;
                    const screenWidth = window.innerWidth;

                    // Se o movimento foi um deslize (swipe) maior que 50px
                    if (Math.abs(diff) > 50) {
                        if (diff > 0) next(); // Deslizou para a esquerda -> Próxima
                        else prev(); // Deslizou para a direita -> Anterior
                    }
                    // Se foi apenas um toque (tap) rápido
                    else if (Math.abs(diff) < 10) {
                        // Se tocou no lado esquerdo da tela (menos de 50%)
                        if (swipeEndX < screenWidth / 2) {
                            prev();
                        }
                        // Se tocou no lado direito da tela (mais de 50%)
                        else {
                            next();
                        }
                    }
                }

                if (e.touches.length === 0) {
                    if (currentScale <= 1) updateTransform();
                    setTimeout(() => {
                        wasZooming = false;
                    }, 300);
                }
            });

            // Navegação por teclado
            document.addEventListener('keydown', (e) => {
                if (lightbox.style.display === 'flex') {
                    if (e.key === 'Escape') closeVisual();
                    if (currentScale === 1) {
                        if (e.key === 'ArrowRight') next();
                        if (e.key === 'ArrowLeft') prev();
                    }
                }
            });

            // Fecha ao clicar fora da imagem
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox || e.target === document.querySelector('.lightbox-content')) {
                    closeVisual();
                }
            });
        });
    </script>
</body>
</html>
